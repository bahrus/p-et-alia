<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
      <style>
        [gameover]::after{
          content: 'She died'
        }
        [gameover]{
          display:none;
        }
        [gameover][err="true"]{
          display:block;
          color:red;
        }
      </style>
      <div>There was an old lady who swallowed a fly;</div>
      <p-d on=foo to=[-lhs] val=target.textContent m=1></p-d>
      <if-diff disabled if -lhs equals rhs="There was an old lady who swallowed a fly;" data-key-name=swallowedFly></if-diff>
      <p-d on=value-changed to=[-why] val=target.value as-attr></p-d>
      <div data-swallowed-fly=0>
        <template>
          <button id=button1 disabled -why>I don't know why she swallowed a fly - Perhaps she'll die!</button>
          <p-d on=click to=[-err] val=why as-attr skip-init m=1></p-d>
          <div -err gameover></div>
          <button id=button2 data-val=false disabled data-val=false>There was an old lady who swallowed a spider;</button>
          <p-d on=click to=[-err] val=target.dataset.val as-attr skip-init m=1></p-d>
          <div -err gameover err=true></div>
          <script>
            button2.click();
          </script>       
        </template>
      </div>
      
      
      <!-- Use experimental import maps -->
      <script defer src="../node_modules/es-module-shims/dist/es-module-shims.js"></script>
      <script type="importmap-shim">
      {
        "imports": {
          "xtal-element/": "../node_modules/xtal-element/",
          "trans-render/": "../node_modules/trans-render/",
          "p-d": "../p-d.js"
        }
      }
      </script>
      <script  type="module-shim">
          import '../p-d.js';
          import '../node_modules/if-diff/if-diff.js';
      </script>
</body>
</html>